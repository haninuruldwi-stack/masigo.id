<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title id="pageTitle">Detail Chef - Masigo.id</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Hanken+Grotesk:wght@400;700;800&family=Plus+Jakarta+Sans:wght@400;600;700&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Plus Jakarta Sans', sans-serif; overflow-x: hidden; background-color: #fffcfc; }
        
        .chef-circle {
            background-color: #DD0303;
            border-radius: 50%;
        }
        .header-svg {
            width: 100%;
            height: auto;
            min-height: 80px; 
        }

        /* BACK BUTTON */
        .back-btn {
            text-decoration: none;
            color: #fff;
            background: transparent;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            transition: transform 0.2s ease;
            cursor: pointer;
            width: 50px;
            height: 50px;
            margin-right: 5px;
        }
        .back-btn svg { width: 32px; height: 32px; }
        .back-btn:hover { transform: scale(1.1); }

        /* --- CARD DESIGN (DESKTOP) --- */
        .recipe-card {
            min-width: 18vw;
            background: #fff;
            border-radius: 25px;
            position: relative;
            box-shadow: 0 8px 20px rgba(0,0,0,0.08);
            padding: 12vh 1.5vw 3vh; 
            flex-shrink: 0;
            margin-top: 15vh; 
            cursor: pointer;
            transition: transform 0.2s ease;
            display: flex;
            flex-direction: column;
        }

        .recipe-card:active { transform: scale(0.95); }

        .recipe-image-circle {
            position: absolute;
            top: -16vh; 
            left: 50%;
            transform: translateX(-50%);
            width: 20vw; 
            height: 14vw; 
            z-index: 5;
        }

        .recipe-image-circle img {
            width: 100%;
            height: 100%;
            object-fit: contain;
            filter: drop-shadow(0 10px 10px rgba(0,0,0,0.1));
        }

        .recipe-name {
            font-family: 'Hanken Grotesk', sans-serif;
            font-weight: 700;
            font-size: 1.2vw;
            margin-bottom: 0.5vh;
            color: #000;
            line-height: 1.2;
        }

        .recipe-author {
            color: #9ca3af;
            font-size: 0.9vw;
            margin-bottom: 1.5vh;
            font-weight: 600;
        }

        .recipe-rating {
            display: flex;
            align-items: center;
            gap: 0.5vw;
            font-size: 1vw;
            color: #000;
            font-weight: 700;
            margin-top: auto;
        }

        .stars { color: #F4CD62; display: flex; gap: 2px; }

        /* --- REVISI TAMPILAN HP (HORIZONTAL SCROLL & FONT LEBIH KECIL) --- */
        @media (max-width: 768px) {
            #recipeGrid {
                display: flex; 
                overflow-x: auto;
                scroll-snap-type: x mandatory;
                gap: 16px;
                padding: 15px;
                padding-top: 70px; 
                margin-top: 0;
                scrollbar-width: none; 
            }
            #recipeGrid::-webkit-scrollbar { display: none; }

            .recipe-card { 
                min-width: 190px; /* Lebar kartu sedikit dikecilkan agar seimbang dengan font */
                padding: 65px 15px 20px; 
                margin-top: 0;
                scroll-snap-align: center;
                border-radius: 20px;
            }
            
            .recipe-image-circle { 
                width: 130px; 
                height: 100px; 
                top: -50px; 
            }

            /* Ukuran Font Dikecilkan Sesuai Request */
            .recipe-name { font-size: 15px; } 
            .recipe-author { font-size: 12px; }
            .recipe-rating { font-size: 13px; }

            .section-resep { padding-left: 0 !important; padding-right: 0 !important; }
            .title-wrapper { padding-left: 24px; padding-right: 24px; margin-bottom: 10px; }
            .title-wrapper h3 { font-size: 24px; }
        }
    </style>
</head>
<body class="bg-[#fffcfc]">

    <header class="relative w-full">
        <svg viewBox="0 0 1440 80" fill="none" xmlns="http://www.w3.org/2000/svg" class="header-svg" preserveAspectRatio="none">
            <g filter="url(#filter0_d_61_11)">
                <path d="M0 0H1440V65C1440 65 461 65 117.5 65C13.5 65 0 0 0 0Z" fill="#DD0303"></path>
            </g>
            <defs>
                <filter id="filter0_d_61_11" x="-7" y="0" width="1460" height="112" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">
                    <feFlood flood-opacity="0" result="BackgroundImageFix"></feFlood>
                    <feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"></feColorMatrix>
                    <feOffset dx="3" dy="10"></feOffset>
                    <feGaussianBlur stdDeviation="5"></feGaussianBlur>
                    <feComposite in2="hardAlpha" operator="out"></feComposite>
                    <feColorMatrix type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.2 0"></feColorMatrix>
                    <feBlend mode="normal" in2="BackgroundImageFix" result="effect1_dropShadow_61_11"></feBlend>
                    <feBlend mode="normal" in="SourceGraphic" in2="effect1_dropShadow_61_11" result="shape"></feBlend>
                </filter>
            </defs>
        </svg>
        
        <div class="absolute top-0 left-6 md:left-16 flex items-center text-white h-[65px] z-50">
            <a href="javascript:history.back()" class="back-btn">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3.5" stroke-linecap="round" stroke-linejoin="round">
                    <path d="M15 18l-6-6 6-6"/>
                </svg>
            </a>
            <h1 class="text-2xl font-semibold">Detail chef</h1>
        </div>
    </header>

    <section class="container mx-auto px-10 py-12 flex flex-col md:flex-row items-center justify-center gap-16">
        <div class="relative w-72 h-72 md:w-[400px] md:h-[400px] flex items-center justify-center flex-shrink-0">
            <div class="chef-circle w-64 h-64 md:w-80 md:h-80 absolute top-[55%] left-1/2 -translate-x-1/2 -translate-y-1/2"></div>
            <img id="chefImg" src="" alt="Chef" 
                 class="absolute bottom-5 left-1/2 -translate-x-1/2 w-64 md:w-80 z-10 drop-shadow-lg">
        </div>

        <div class="max-w-xl text-center md:text-left">
            <h2 id="chefName" class="bg-[#DD0303] text-white text-2xl font-bold px-4 py-1 inline-block mb-4 shadow-md"></h2>
            <p id="chefDesc" class="text-gray-600 text-lg leading-relaxed"></p>
        </div>
    </section>

    <section class="container mx-auto px-6 md:px-10 pb-20 section-resep">
        <div class="flex justify-between items-end mb-16 title-wrapper">
            <h3 class="text-3xl md:text-4xl font-bold">Daftar Resep</h3>
            <a id="viewAllLink" href="#" class="text-gray-400 hover:text-red-600 transition font-medium">Lihat semua</a>
        </div>

        <div id="recipeGrid" class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-x-8 gap-y-24">
            </div>
    </section>

    <script>
        const dataChef = {
            "Chef Juna": {
                deskripsi: "Chef Juna adalah spesialis masakan Jepang dan Prancis yang dikenal dengan ketegasannya dan standar kualitas masakan yang sangat tinggi.",
                gambar: "foto/Mask group (3).png",
                resep: [
                    { nama: "Sushi Roll", rating: 9.5, img: "foto/photo-removebg-preview 1.png" },
                    { nama: "Steak au Poivre", rating: 9.8, img: "foto/59350505-anchor-recipes-15bananabread-topdown-1024px-png-removebg-preview 1.png" }
                ]
            },
            "Chef Marinka": {
                deskripsi: "Chef Marinka mengkhususkan diri pada masakan Indonesia modern yang dipadukan dengan seni penyajian (plating) yang cantik dan artistik.",
                gambar: "foto/Mask group (2).png",
                resep: [
                    { nama: "Nasi Goreng Mewah", rating: 9.2, img: "foto/noodles-g09b620791_1280-801225889-removebg-preview 1.png" }
                ]
            },
            "Chef Devina": {
                deskripsi: "Chef Devina Hermawan adalah spesialis masakan rumahan praktis bergaya modern dan fusion, dengan fokus pada rasa Indonesia yang autentik, teknik mudah, dan hasil profesional.",
                gambar: "foto/Group 12.png",
                resep: [
                    { nama: "Resep Beef Teriyaki", rating: 9.0, img: "foto/photo-removebg-preview 1.png" },
                    { nama: "Resep Banana Bread", rating: 9.0, img: "foto/59350505-anchor-recipes-15bananabread-topdown-1024px-png-removebg-preview 1.png" },
                    { nama: "Resep Ayam Bakar Madu", rating: 8.5, img: "foto/Screen_Shot_2023-01-09_at_17_40_36__1___1___1___1___1___1___1___1_-removebg-preview 1.png" },
                    { nama: "Resep Mie Goreng Jawa", rating: 8.0, img: "foto/noodles-g09b620791_1280-801225889-removebg-preview 1.png" }
                ]
            },
            "Chef Degan": {
                deskripsi: "Chef Degan merupakan pakar kuliner yang ahli dalam teknik memasak klasik kontemporer dengan fokus pada keaslian rasa and presentasi yang elegan.",
                gambar: "foto/Mask group (1).png",
                resep: [
                    { nama: "Grilled Salmon", rating: 9.4, img: "foto/photo-removebg-preview 1.png" },
                    { nama: "Mushroom Risotto", rating: 8.9, img: "foto/noodles-g09b620791_1280-801225889-removebg-preview 1.png" }
                ]
            }
        };

        function getStars(rating) {
            let stars = '';
            if (rating >= 9.0) {
                for (let i = 0; i < 5; i++) stars += '<i class="fa-solid fa-star"></i>';
            } else if (rating >= 8.5) {
                for (let i = 0; i < 4; i++) stars += '<i class="fa-solid fa-star"></i>';
                stars += '<i class="fa-solid fa-star-half-stroke"></i>';
            } else {
                for (let i = 0; i < 4; i++) stars += '<i class="fa-solid fa-star"></i>';
                stars += '<i class="fa-regular fa-star"></i>';
            }
            return stars;
        }

        function initDetail() {
            const params = new URLSearchParams(window.location.search);
            let namaUrl = params.get('nama') ? decodeURIComponent(params.get('nama')).trim() : "Chef Devina";
            
            const namaKunci = Object.keys(dataChef).find(key => key.toLowerCase() === namaUrl.toLowerCase());
            const namaFinal = namaKunci || "Chef Devina";
            const chef = dataChef[namaFinal];

            const imgElement = document.getElementById('chefImg');

            if (namaFinal === "Chef Marinka" || namaFinal === "Chef Degan") {
                imgElement.classList.add('bottom-3'); 
            } else {
                imgElement.classList.add('bottom-5'); 
            }

            document.getElementById('chefName').innerText = namaFinal;
            document.getElementById('chefDesc').innerText = chef.deskripsi;
            imgElement.src = chef.gambar;
            document.title = "Detail Chef - " + namaFinal;

            const viewAllLink = document.getElementById('viewAllLink');
            viewAllLink.href = `hasil.html?q=${encodeURIComponent(namaFinal)}`;

            const grid = document.getElementById('recipeGrid');
            grid.innerHTML = chef.resep.map(r => `
                <div class="recipe-card" onclick="location.href='detail_resep.html?resep=${encodeURIComponent(r.nama)}'">
                    <div class="recipe-image-circle">
                        <img src="${r.img}" alt="${r.nama}">
                    </div>
                    <h4 class="recipe-name">${r.nama}</h4>
                    <p class="recipe-author">${namaFinal}</p>
                    <div class="recipe-rating">
                        <span>${Number(r.rating).toFixed(1)}</span>
                        <span class="stars">${getStars(r.rating)}</span>
                    </div>
                </div>
            `).join('');
        }

        window.onload = initDetail;
    </script>
</body>
</html>